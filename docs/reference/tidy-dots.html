<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Collect dots tidily — tidy-dots • rlang</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<meta property="og:title" content="Collect dots tidily — tidy-dots" />

<meta property="og:description" content="list2() is equivalent to list(...) but provides tidy
dots semantics:
You can splice other lists with the
unquote-splice !!! operator.
You can unquote names by using the unquote
operator !! on the left-hand side of :=.
" />

<meta property="og:description" content="We call quasiquotation support in dots tidy dots semantics and
functions taking dots with list2() tidy dots functions.
Quasiquotation is an alternative to do.call() idioms and gives
the users of your functions an uniform syntax to supply a variable
number of arguments or a variable name." />

<meta property="og:description" content="dots_list() is a lower-level version of list2() that offers
additional parameters for dots capture." />
<meta name="twitter:card" content="summary" />
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rlang</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../reference/lifecycle.html">Lifecycle</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/rlang">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Collect dots tidily</h1>
    </div>

    
    <p><code>list2()</code> is equivalent to <code>list(...)</code> but provides tidy
dots semantics:</p><ul>
<li><p>You can splice other lists with the
<a href='quasiquotation.html'>unquote-splice</a> <code>!!!</code> operator.</p></li>
<li><p>You can unquote names by using the <a href='quasiquotation.html'>unquote</a>
operator <code>!!</code> on the left-hand side of <code>:=</code>.</p></li>
</ul>

    <p>We call quasiquotation support in dots <strong>tidy dots</strong> semantics and
functions taking dots with <code>list2()</code> tidy dots functions.
Quasiquotation is an alternative to <code>do.call()</code> idioms and gives
the users of your functions an uniform syntax to supply a variable
number of arguments or a variable name.

    <code>dots_list()</code> is a lower-level version of <code>list2()</code> that offers
additional parameters for dots capture.</p>
    

    <pre class="usage"><span class='fu'>dots_list</span>(<span class='no'>...</span>, <span class='kw'>.ignore_empty</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"trailing"</span>, <span class='st'>"none"</span>, <span class='st'>"all"</span>))

<span class='fu'>list2</span>(<span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>Arguments with explicit (<code>dots_list()</code>) or list
(<code><a href='splice.html'>dots_splice()</a></code>) splicing semantics. The contents of spliced
arguments are embedded in the returned list.</p></td>
    </tr>
    <tr>
      <th>.ignore_empty</th>
      <td><p>Whether to ignore empty arguments. Can be one
of <code>"trailing"</code>, <code>"none"</code>, <code>"all"</code>. If <code>"trailing"</code>, only the
last argument is ignored if it is empty.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of arguments. This list is always named: unnamed
arguments are named with the empty string <code>""</code>.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Note that while all tidy eval <a href='quotation.html'>quoting functions</a> have
tidy dots semantics, not all tidy dots functions are quoting
functions. <code>list2()</code> is for standard functions, not quoting
functions.</p>
    
    <h2 class="hasAnchor" id="life-cycle"><a class="anchor" href="#life-cycle"></a>Life cycle</h2>

    
    <p>One difference of <code>dots_list()</code> with <code>list2()</code> is that it always
allocates a vector of names even if no names were supplied. In this
case, the names are all empty <code>""</code>. This is for consistency with
<code><a href='quotation.html'>enquos()</a></code> and <code><a href='quotation.html'>enexprs()</a></code> but can be quite costly when long lists
are spliced in the results. For this reason we plan to parameterise
this behaviour with a <code>.named</code> argument and possibly change the
default. <code>list2()</code> does not have this issue.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='quotation.html'>exprs()</a></code> for extracting dots without evaluation.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Let's create a function that takes a variable number of arguments:</span>
<span class='no'>numeric</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>...</span>) {
  <span class='no'>dots</span> <span class='kw'>&lt;-</span> <span class='fu'>list2</span>(<span class='no'>...</span>)
  <span class='no'>num</span> <span class='kw'>&lt;-</span> <span class='fu'>as.numeric</span>(<span class='no'>dots</span>)
  <span class='fu'><a href='set_names.html'>set_names</a></span>(<span class='no'>num</span>, <span class='fu'>names</span>(<span class='no'>dots</span>))
}
<span class='fu'>numeric</span>(<span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>)</div><div class='output co'>#&gt; [1] 1 2 3</div><div class='input'>
<span class='co'># The main difference with list(...) is that list2(...) enables</span>
<span class='co'># the `!!!` syntax to splice lists:</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>list</span>(<span class='fl'>2</span>, <span class='fl'>3</span>)
<span class='fu'>numeric</span>(<span class='fl'>1</span>, !!! <span class='no'>x</span>, <span class='fl'>4</span>)</div><div class='output co'>#&gt; [1] 1 2 3 4</div><div class='input'>
<span class='co'># As well as unquoting of names:</span>
<span class='no'>nm</span> <span class='kw'>&lt;-</span> <span class='st'>"yup!"</span>
<span class='fu'>numeric</span>(!!<span class='no'>nm</span> <span class='kw'>:=</span> <span class='fl'>1</span>)</div><div class='output co'>#&gt; yup! 
#&gt;    1 </div><div class='input'>

<span class='co'># One useful application of splicing is to work around exact and</span>
<span class='co'># partial matching of arguments. Let's create a function taking</span>
<span class='co'># named arguments and dots:</span>
<span class='no'>fn</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>data</span>, <span class='no'>...</span>) {
  <span class='fu'>list2</span>(<span class='no'>...</span>)
}

<span class='co'># You normally cannot pass an argument named `data` through the dots</span>
<span class='co'># as it will match `fn`'s `data` argument. The splicing syntax</span>
<span class='co'># provides a workaround:</span>
<span class='fu'>fn</span>(<span class='st'>"wrong!"</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>letters</span>)  <span class='co'># exact matching of `data`</span></div><div class='output co'>#&gt; [[1]]
#&gt; [1] "wrong!"
#&gt; </div><div class='input'><span class='fu'>fn</span>(<span class='st'>"wrong!"</span>, <span class='kw'>dat</span> <span class='kw'>=</span> <span class='no'>letters</span>)   <span class='co'># partial matching of `data`</span></div><div class='output co'>#&gt; [[1]]
#&gt; [1] "wrong!"
#&gt; </div><div class='input'><span class='fu'>fn</span>(<span class='no'>some_data</span>, !!! <span class='fu'>list</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>letters</span>))  <span class='co'># no matching</span></div><div class='output co'>#&gt; $data
#&gt;  [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q" "r" "s"
#&gt; [20] "t" "u" "v" "w" "x" "y" "z"
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#life-cycle">Life cycle</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Lionel Henry, <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
