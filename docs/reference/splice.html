<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Splice lists — splice • rlang</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<meta property="og:title" content="Splice lists — splice" />

<meta property="og:description" content="
splice marks an object to be spliced. It is equivalent to using
!!! in a function with tidy dots semantics.
" />
<meta name="twitter:card" content="summary" />
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rlang</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../reference/lifecycle.html">Lifecycle</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/rlang">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Splice lists</h1>
    </div>

    
    <ul>
<li><p><code>splice</code> marks an object to be spliced. It is equivalent to using
<code>!!!</code> in a function with <a href='tidy-dots.html'>tidy dots semantics</a>.</p></li>
</ul>
    

    <pre class="usage"><span class='fu'>splice</span>(<span class='no'>x</span>)

<span class='fu'>is_spliced</span>(<span class='no'>x</span>)

<span class='fu'>is_spliced_bare</span>(<span class='no'>x</span>)

<span class='fu'>dots_splice</span>(<span class='no'>...</span>, <span class='kw'>.ignore_empty</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"trailing"</span>, <span class='st'>"none"</span>, <span class='st'>"all"</span>))</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A list to splice.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments with explicit (<code><a href='tidy-dots.html'>dots_list()</a></code>) or list
(<code>dots_splice()</code>) splicing semantics. The contents of spliced
arguments are embedded in the returned list.</p></td>
    </tr>
    <tr>
      <th>.ignore_empty</th>
      <td><p>Whether to ignore empty arguments. Can be one
of <code>"trailing"</code>, <code>"none"</code>, <code>"all"</code>. If <code>"trailing"</code>, only the
last argument is ignored if it is empty.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <ul>
<li><p><code>dots_splice()</code> is like <code><a href='tidy-dots.html'>dots_list()</a></code> but automatically splices
list inputs.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="standard-splicing-versus-quoting-splicing"><a class="anchor" href="#standard-splicing-versus-quoting-splicing"></a>Standard splicing versus quoting splicing</h2>

    
    <p>The <code>!!!</code> operator works differently in <em>standard</em> functions taking
dots with <code><a href='tidy-dots.html'>dots_list()</a></code> than in <em>quoting</em> functions taking dots
with <code><a href='quotation.html'>enexprs()</a></code> or <code><a href='quotation.html'>enquos()</a></code>.</p><ul>
<li><p>In quoting functions <code>!!!</code> disaggregates its argument (let's call
it <code>x</code>) into as many objects as there are elements in
<code>x</code>. E.g. <code><a href='quotation.html'>quo(foo(!!! c(1, 2)))</a></code> is completely equivalent to
<code><a href='quotation.html'>quo(foo(1, 2))</a></code>. The creation of those separate objects has an
overhead but is typically not important when manipulating calls
because function calls typically take a small number of
arguments.</p></li>
<li><p>In standard functions, disaggregating the spliced collection
would have a negative performance impact in cases where
<code><a href='tidy-dots.html'>dots_list()</a></code> is used to build up data structures from user
inputs. To avoid this spliced inputs are marked with <code>splice()</code>
and the final list is built with (the equivalent of)
<code><a href='flatten.html'>flatten_if(dots, is_spliced)</a></code>.</p></li>
</ul>
    <p>Most of the time you should not care about the difference. However
if you use a standard function taking tidy dots within a quoting
function, the <code>!!!</code> operator will disaggregate its argument because
the behaviour of the quasiquoting function has priority. You might
then observe some performance cost in edge cases. Here is one
example where this would happen:</p><pre>purrr::rerun(10, dplyr::bind_rows(!!! x))
</pre><p><code><a href='http://www.rdocumentation.org/packages/purrr/topics/rerun'>purrr::rerun()</a></code> is a quoting function and <code><a href='http://dplyr.tidyverse.org/reference/bind.html'>dplyr::bind_rows()</a></code> is
a standard function. Because <code>bind_rows()</code> is called <em>inside</em>
<code>rerun()</code>, the list <code>x</code> will be disaggregated into a pairlist of
arguments. To avoid this you can use <code>splice()</code> instead:</p><pre>purrr::rerun(10, dplyr::bind_rows(splice(x)))
</pre>
    
    <h2 class="hasAnchor" id="life-cycle"><a class="anchor" href="#life-cycle"></a>Life cycle</h2>

    
    <ul>
<li><p><code>dots_splice()</code> is in <strong>questioning</strong> stage. It is part of our
experiments with dots semantics. Compared to <code><a href='tidy-dots.html'>dots_list()</a></code>,
<code>dots_splice()</code> automatically splices lists. We now lean towards
adopting a single type of dots semantics (those of <code><a href='tidy-dots.html'>dots_list()</a></code>)
where splicing is explicit.</p></li>
<li><p><code>splice()</code> is in questioning stage. It is not clear whether it is
really needed as there are other ways to avoid the performance
issue discussed in the section above.</p></li>
</ul>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#standard-splicing-versus-quoting-splicing">Standard splicing versus quoting splicing</a></li>

      <li><a href="#life-cycle">Life cycle</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Lionel Henry, <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
