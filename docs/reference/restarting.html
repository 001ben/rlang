<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a restarting handler — restarting • rlang</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<meta property="og:title" content="Create a restarting handler — restarting" />

<meta property="og:description" content="This constructor automates the common task of creating an
inplace() handler that invokes a restart." />
<meta name="twitter:card" content="summary" />
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rlang</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../reference/lifecycle.html">Lifecycle</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/rlang">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a restarting handler</h1>
    </div>

    
    <p>This constructor automates the common task of creating an
<code><a href='exiting.html'>inplace()</a></code> handler that invokes a restart.</p>
    

    <pre class="usage"><span class='fu'>restarting</span>(<span class='no'>.restart</span>, <span class='no'>...</span>, <span class='kw'>.fields</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.restart</th>
      <td><p>The name of a restart.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed on the restart
function. These arguments are evaluated only once and
immediately, when creating the restarting handler. Furthermore,
they support <a href='tidy-dots.html'>tidy dots</a> features.</p></td>
    </tr>
    <tr>
      <th>.fields</th>
      <td><p>A character vector specifying the fields of the
condition that should be passed as arguments to the restart. If
named, the names (except empty names <code>""</code>) are used as
argument names for calling the restart function. Otherwise the
the fields themselves are used as argument names.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Jumping to a restart point from an inplace handler has two
effects. First, the control flow jumps to wherever the restart was
established, and the restart function is called (with <code>...</code>, or
<code>.fields</code> as arguments). Execution resumes from the
<code><a href='with_restarts.html'>with_restarts()</a></code> call. Secondly, the transfer of the control flow
out of the function that signalled the condition means that the
handler has dealt with the condition. Thus the condition will not
be passed on to other potential handlers established on the stack.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='exiting.html'>inplace()</a></code> and <code><a href='exiting.html'>exiting()</a></code>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># This is a restart that takes a data frame and names as arguments</span>
<span class='no'>rst_bar</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>df</span>, <span class='no'>nms</span>) {
  <span class='kw pkg'>stats</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/stats/topics/setNames'>setNames</a></span>(<span class='no'>df</span>, <span class='no'>nms</span>)
}

<span class='co'># This restart is simpler and does not take arguments</span>
<span class='no'>rst_baz</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>() <span class='st'>"baz"</span>

<span class='co'># Signalling a condition parameterised with a data frame</span>
<span class='no'>fn</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>() {
  <span class='fu'><a href='with_restarts.html'>with_restarts</a></span>(<span class='fu'><a href='cnd_signal.html'>cnd_signal</a></span>(<span class='st'>"foo"</span>, <span class='kw'>foo_field</span> <span class='kw'>=</span> <span class='no'>mtcars</span>),
    <span class='kw'>rst_bar</span> <span class='kw'>=</span> <span class='no'>rst_bar</span>,
    <span class='kw'>rst_baz</span> <span class='kw'>=</span> <span class='no'>rst_baz</span>
  )
}

<span class='co'># Creating a restarting handler that passes arguments `nms` and</span>
<span class='co'># `df`, the latter taken from a data field of the condition object</span>
<span class='no'>restart_bar</span> <span class='kw'>&lt;-</span> <span class='fu'>restarting</span>(<span class='st'>"rst_bar"</span>,
  <span class='kw'>nms</span> <span class='kw'>=</span> <span class='no'>LETTERS</span>[<span class='fl'>1</span>:<span class='fl'>11</span>], <span class='kw'>.fields</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='kw'>df</span> <span class='kw'>=</span> <span class='st'>"foo_field"</span>)
)

<span class='co'># The restarting handlers jumps to `rst_bar` when `foo` is signalled:</span>
<span class='fu'><a href='with_handlers.html'>with_handlers</a></span>(<span class='fu'>fn</span>(), <span class='kw'>foo</span> <span class='kw'>=</span> <span class='no'>restart_bar</span>)</div><div class='output co'>#&gt;                        A B     C   D    E    F    G H I J K
#&gt; Mazda RX4           21.0 6 160.0 110 3.90 2.62 16.5 0 1 4 4
#&gt; Mazda RX4 Wag       21.0 6 160.0 110 3.90 2.88 17.0 0 1 4 4
#&gt; Datsun 710          22.8 4 108.0  93 3.85 2.32 18.6 1 1 4 1
#&gt; Hornet 4 Drive      21.4 6 258.0 110 3.08 3.21 19.4 1 0 3 1
#&gt; Hornet Sportabout   18.7 8 360.0 175 3.15 3.44 17.0 0 0 3 2
#&gt; Valiant             18.1 6 225.0 105 2.76 3.46 20.2 1 0 3 1
#&gt; Duster 360          14.3 8 360.0 245 3.21 3.57 15.8 0 0 3 4
#&gt; Merc 240D           24.4 4 146.7  62 3.69 3.19 20.0 1 0 4 2
#&gt; Merc 230            22.8 4 140.8  95 3.92 3.15 22.9 1 0 4 2
#&gt; Merc 280            19.2 6 167.6 123 3.92 3.44 18.3 1 0 4 4
#&gt; Merc 280C           17.8 6 167.6 123 3.92 3.44 18.9 1 0 4 4
#&gt; Merc 450SE          16.4 8 275.8 180 3.07 4.07 17.4 0 0 3 3
#&gt; Merc 450SL          17.3 8 275.8 180 3.07 3.73 17.6 0 0 3 3
#&gt; Merc 450SLC         15.2 8 275.8 180 3.07 3.78 18.0 0 0 3 3
#&gt; Cadillac Fleetwood  10.4 8 472.0 205 2.93 5.25 18.0 0 0 3 4
#&gt; Lincoln Continental 10.4 8 460.0 215 3.00 5.42 17.8 0 0 3 4
#&gt; Chrysler Imperial   14.7 8 440.0 230 3.23 5.34 17.4 0 0 3 4
#&gt; Fiat 128            32.4 4  78.7  66 4.08 2.20 19.5 1 1 4 1
#&gt; Honda Civic         30.4 4  75.7  52 4.93 1.61 18.5 1 1 4 2
#&gt; Toyota Corolla      33.9 4  71.1  65 4.22 1.83 19.9 1 1 4 1
#&gt; Toyota Corona       21.5 4 120.1  97 3.70 2.46 20.0 1 0 3 1
#&gt; Dodge Challenger    15.5 8 318.0 150 2.76 3.52 16.9 0 0 3 2
#&gt; AMC Javelin         15.2 8 304.0 150 3.15 3.44 17.3 0 0 3 2
#&gt; Camaro Z28          13.3 8 350.0 245 3.73 3.84 15.4 0 0 3 4
#&gt; Pontiac Firebird    19.2 8 400.0 175 3.08 3.85 17.1 0 0 3 2
#&gt; Fiat X1-9           27.3 4  79.0  66 4.08 1.94 18.9 1 1 4 1
#&gt; Porsche 914-2       26.0 4 120.3  91 4.43 2.14 16.7 0 1 5 2
#&gt; Lotus Europa        30.4 4  95.1 113 3.77 1.51 16.9 1 1 5 2
#&gt; Ford Pantera L      15.8 8 351.0 264 4.22 3.17 14.5 0 1 5 4
#&gt; Ferrari Dino        19.7 6 145.0 175 3.62 2.77 15.5 0 1 5 6
#&gt; Maserati Bora       15.0 8 301.0 335 3.54 3.57 14.6 0 1 5 8
#&gt; Volvo 142E          21.4 4 121.0 109 4.11 2.78 18.6 1 1 4 2</div><div class='input'>
<span class='co'># The restarting() constructor is especially nice to use with</span>
<span class='co'># restarts that do not need arguments:</span>
<span class='fu'><a href='with_handlers.html'>with_handlers</a></span>(<span class='fu'>fn</span>(), <span class='kw'>foo</span> <span class='kw'>=</span> <span class='fu'>restarting</span>(<span class='st'>"rst_baz"</span>))</div><div class='output co'>#&gt; [1] "baz"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Lionel Henry, <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
